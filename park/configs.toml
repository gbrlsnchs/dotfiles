tags = ["$XDG_SESSION_TYPE", "$XDG_CURRENT_DESKTOP"]
base_dir = "$XDG_CONFIG_HOME"

# Xorg only
[targets.bspwm]
tags.all_of = ["x11", "bspwm"]

[targets.sxhkd]
tags.all_of = ["x11", "bspwm"]

[targets.picom]
tags.all_of = ["x11"]
tags.any_of = ["bspwm"]

[targets.polybar]
tags.all_of = ["x11"]
tags.any_of = ["bspwm"]

[targets.alacritty]
tags.all_of = ["x11"]

[targets."xorg/xinitrc"]
link.base_dir = "$HOME"
link.name = ".xinitrc"
tags.all_of = ["x11"]

[targets."xorg/xserverrc"]
link.base_dir = "$HOME"
link.name = ".xserverrc"
tags.all_of = ["x11"]

# Wayland only
[targets."foot/config"]
tags.all_of = ["wayland"]
tags.any_of = ["river"]
link.name = "foot"

[targets."fnott/config"]
tags.all_of = ["wayland"]
tags.any_of = ["river"]
link.name = "fnott"

[targets."river/config"]
link.name = "river"
tags.all_of = ["wayland", "river"]

[targets."yambar/config"]
tags.all_of = ["wayland"]
tags.any_of = ["river"]
link.name = "yambar"

[targets."waylock/config"]
tags.all_of = ["wayland"]
tags.any_of = ["river"]
link.name = "waylock"

# Others
[targets."neovim/config"]
link.name = "nvim"

[targets."latex/latexmkrc"]
link.base_dir = "$HOME"
link.name = ".latexmkrc"

[targets."dunst/config"]
link.name = "dunst"
tags.any_of = ["bspwm"]

# Service manager
[targets.systemd]
tags.all_of = ["systemd"]

# Others
[targets."zsh/config/zshrc"]
link.name = ".zshrc"
link.base_dir = "$ZDOTDIR"
tags.all_of = ["zsh"]

[targets."zsh/config/functions"]
link.base_dir = "$ZDOTDIR"
tags.all_of = ["zsh"]

[targets."zsh/config/zsh.d"]

[targets."zsh/zshenv"]
link.base_dir = "$HOME"
link.name = ".zshenv"

[targets.fontconfig]
tags.any_of = ["bspwm", "river"]

[targets.git]

[targets."cargo/config.toml"]
link.base_dir = "$HOME/.cargo"
tags.all_of = ["cargo"]

[targets."gtk/gtk3-settings.ini"]
link.base_dir = "$XDG_CONFIG_HOME/gtk-3.0"
link.name = "settings.ini"

[targets."xdg/user-dirs.dirs"]

[targets."xdg/desktop-portal-wlr"]
tags.all_of = ["wayland"]
tags.any_of = ["river"]
link.name = "xdg-desktop-portal-wlr"
